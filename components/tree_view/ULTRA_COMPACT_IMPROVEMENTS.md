# –£–ª—å—Ç—Ä–∞–∫–æ–º–ø–∞–∫—Ç–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è Tree View

## –í—ã–ø–æ–ª–Ω–µ–Ω–æ –ø–æ –∑–∞–ø—Ä–æ—Å—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### ‚ùå –£–±—Ä–∞–Ω–∞ —Å—Ç—Ä–µ–ª–æ—á–∫–∞ (expander)
- **–ë—ã–ª–æ**: –¢—Ä–µ—É–≥–æ–ª—å–Ω—ã–µ expander'—ã –¥–ª—è —Ä–∞—Å–∫—Ä—ã—Ç–∏—è –ø–∞–ø–æ–∫
- **–°—Ç–∞–ª–æ**: –ü–æ–ª–Ω–æ—Å—Ç—å—é —É–±—Ä–∞–Ω—ã, —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ —á–µ—Ä–µ–∑ –∫–ª–∏–∫ –Ω–∞ –ø–∞–ø–∫—É
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
  - –£–¥–∞–ª–µ–Ω —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ expander'–æ–≤ –∏–∑ `AbstractRenderer`
  - –£–¥–∞–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã `expander_x()` –∏ `expander_center_y()` –∏–∑ `TreeTheme`
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ –∫–ª–∏–∫ –Ω–∞ –ø–∞–ø–∫—É

### üìè –ü—É—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω 30 —Å–∏–º–≤–æ–ª–∞–º–∏ + Solarized Lite —Å—Ç–∏–ª—å
- **–ë—ã–ª–æ**: –ü–æ–ª–Ω—ã–π –ø—É—Ç—å, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ü–≤–µ—Ç–∞
- **–°—Ç–∞–ª–æ**: –ú–∞–∫—Å–∏–º—É–º 30 —Å–∏–º–≤–æ–ª–æ–≤ —Å `...` –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
  - –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `truncate_path()` –≤ `FileExplorer`
  - –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞: `#586e75` (Solarized base01)
  - –§–æ—Ä–º–∞—Ç: `/–Ω–∞—á–∞–ª–æ/–ø—É—Ç–∏...–∫–æ–Ω–µ—Ü/–ø—É—Ç–∏`

### üì¶ –ï—â–µ –±–æ–ª–µ–µ –∫–æ–º–ø–∞–∫—Ç–Ω–∞—è —Ç–µ–º–∞
- **–í—ã—Å–æ—Ç–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤**: 18px ‚Üí 16px (—ç–∫–æ–Ω–æ–º–∏—è 33% –æ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª–∞ 24px)
- **–û—Ç—Å—Ç—É–ø—ã**: 12px ‚Üí 10px 
- **–†–∞–∑–º–µ—Ä –∏–∫–æ–Ω–æ–∫**: 12px ‚Üí 10px
- **–†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞**: –æ—Å—Ç–∞–ª—Å—è 9px
- **–î–æ–±–∞–≤–ª–µ–Ω –ª–µ–≤—ã–π –æ—Ç—Å—Ç—É–ø**: 6px (–Ω–µ –≤–ø–ª–æ—Ç–Ω—É—é –∫ –∫—Ä–∞—é)

### üñºÔ∏è –ü–æ–º–µ–Ω—å—à–µ, –ø–æ—Å–≤–µ—Ç–ª–µ–µ –∏ –ø–æ–∞–∫–∫—É—Ä–∞—Ç–Ω–µ–µ –∏–∫–æ–Ω–∫–∏
- **–†–∞–∑–º–µ—Ä**: 12px ‚Üí 10px
- **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å**: –î–æ–±–∞–≤–ª–µ–Ω–∞ 0.7 –¥–ª—è –≤—Å–µ—Ö –∏–∫–æ–Ω–æ–∫
- **–î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è**: –ë–æ–ª–µ–µ —Ç–æ–Ω–∫–∏–µ –ª–∏–Ω–∏–∏ (0.8px –≤–º–µ—Å—Ç–æ 1px)
- **–ü–∞–ø–∫–∏**: 10√ó7px —Ç—Ä–∞–ø–µ—Ü–∏–∏ (–±—ã–ª–æ 12√ó9px)
- **–§–∞–π–ª—ã**: 7√ó8px –¥–æ–∫—É–º–µ–Ω—Ç—ã (–±—ã–ª–æ 9√ó10px) 
- **–†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è**: 6√ó8px —Å—Ç—Ä–µ–ª–∫–∏ (–±—ã–ª–æ 8√ó9px)

### üìú –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –≥–ª—é—á–Ω—ã–π —Å–∫—Ä–æ–ª–ª
- **–ü—Ä–æ–±–ª–µ–º–∞**: –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Å–∫—Ä–æ–ª–ª, –±–µ–ª–∞—è –ø–æ–ª–æ—Å–∞ —Å–Ω–∏–∑—É
- **–†–µ—à–µ–Ω–∏–µ**: 
  - –£–¥–∞–ª–µ–Ω `update_scroll_size()` –º–µ—Ç–æ–¥
  - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `max_scroll` –≤ `draw()`
  - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: `scroll_offset ‚â§ (total_height - visible_height)`

### üé® –≠–ª–µ–≥–∞–Ω—Ç–Ω—ã–π —Å–∫—Ä–æ–ª–ª–±–∞—Ä —Å hover
- **–ë—ã–ª–æ**: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —É—Ä–æ–¥–ª–∏–≤—ã–π —Å–∫—Ä–æ–ª–ª–±–∞—Ä
- **–°—Ç–∞–ª–æ**: CSS-—Å—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π
- **–°—Ç–∏–ª—å**:
  - –®–∏—Ä–∏–Ω–∞: 6px (hover: 8px)
  - –¶–≤–µ—Ç: `rgba(88, 110, 117, 0.3)` (hover: 0.6)
  - –°–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ —É–≥–ª—ã: 4px
  - –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω
  - –°–∫—Ä—ã—Ç—ã–µ –∫–Ω–æ–ø–∫–∏

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
1. **`TreeTheme`** - –ù–æ–≤—ã–µ —Ä–∞–∑–º–µ—Ä—ã, —Ü–≤–µ—Ç–∞, –ª–µ–≤—ã–π –æ—Ç—Å—Ç—É–ø
2. **`AbstractRenderer`** - –£–±—Ä–∞–Ω —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ expander'–æ–≤
3. **`GTK3RenderContext`** - –ë–æ–ª–µ–µ –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–µ –∏–∫–æ–Ω–∫–∏
4. **`GTK3TreeWidget`** - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Å–∫—Ä–æ–ª–ª–∞
5. **`FileExplorer`** - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø—É—Ç–∏ + —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞

### –ù–æ–≤—ã–µ —Ü–≤–µ—Ç–∞ Solarized Lite
```ruby
background: [0.992, 0.965, 0.890, 1.0]  # #fdf6e3 base3
text:       [0.345, 0.431, 0.459, 1.0]  # #586e75 base01
selection:  [0.345, 0.431, 0.459, 0.12] # base01 + transparency
hover:      [0.345, 0.431, 0.459, 0.06] # base01 + light transparency
folder:     [0.149, 0.545, 0.824, 0.7]  # #268bd2 blue + transparency
file:       [0.710, 0.537, 0.000, 0.7]  # #b58900 yellow + transparency
parent:     [0.514, 0.580, 0.588, 0.7]  # #839496 base0 + transparency
```

### –ù–æ–≤—ã–µ –ø–æ–∑–∏—Ü–∏–∏ (—Å –ª–µ–≤—ã–º –æ—Ç—Å—Ç—É–ø–æ–º)
```ruby
icon_x(level): 6 + level * 10px
text_x(level): icon_x(level) + 10 + 3px
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–æ/–ø–æ—Å–ª–µ

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –î–æ | –ü–æ—Å–ª–µ | –≠–∫–æ–Ω–æ–º–∏—è |
|----------|-------|--------|----------|
| –í—ã—Å–æ—Ç–∞ —ç–ª–µ–º–µ–Ω—Ç–∞ | 24px | 16px | 33% |
| –û—Ç—Å—Ç—É–ø—ã | 16px | 10px | 37% |
| –†–∞–∑–º–µ—Ä –∏–∫–æ–Ω–æ–∫ | 14px | 10px | 29% |
| –ü—É—Ç—å | –ü–æ–ª–Ω—ã–π | ‚â§30 —Å–∏–º–≤–æ–ª–æ–≤ | –ß–∏—Ç–∞–µ–º–æ—Å—Ç—å |
| Expander'—ã | –¢—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫–∏ | –£–±—Ä–∞–Ω—ã | –ß–∏—Å—Ç–æ—Ç–∞ |
| –°–∫—Ä–æ–ª–ª | –ì–ª—é—á–Ω—ã–π | –ò—Å–ø—Ä–∞–≤–ª–µ–Ω | –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å |
| –°–∫—Ä–æ–ª–ª–±–∞—Ä | –£—Ä–æ–¥–ª–∏–≤—ã–π | –≠–ª–µ–≥–∞–Ω—Ç–Ω—ã–π | UX |

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
‚úÖ **–≠–∫–æ–Ω–æ–º–∏—è –º–µ—Å—Ç–∞**: ~33% –±–æ–ª—å—à–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ —Ç–æ–º –∂–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ  
‚úÖ **–ß–∏—Ç–∞–µ–º–æ—Å—Ç—å**: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –ø—É—Ç—å –Ω–µ –ø–µ—Ä–µ–≥—Ä—É–∂–∞–µ—Ç  
‚úÖ **–ß–∏—Å—Ç–æ—Ç–∞**: –ë–µ–∑ –ª–∏—à–Ω–∏—Ö expander'–æ–≤, –º–∏–Ω–∏–º–∞–ª–∏–∑–º  
‚úÖ **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –±–∞–≥–∏ —Å–∫—Ä–æ–ª–ª–∞  
‚úÖ **–°—Ç–∏–ª—å**: –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π Solarized Lite  
‚úÖ **UX**: Hover —ç—Ñ—Ñ–µ–∫—Ç—ã –∏ —ç–ª–µ–≥–∞–Ω—Ç–Ω—ã–µ —Å–∫—Ä–æ–ª–ª–±–∞—Ä—ã  
‚úÖ **–ê–∫–∫—É—Ä–∞—Ç–Ω–æ—Å—Ç—å**: –ú–µ–ª–∫–∏–µ –¥–µ—Ç–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–∫–æ–Ω–∫–∏  

### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
‚úÖ **–í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç**: 20/20 –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤  
‚úÖ **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞**: –†–∞—Å–∫—Ä—ã—Ç–∏–µ –ø–∞–ø–æ–∫ —á–µ—Ä–µ–∑ –∫–ª–∏–∫  
‚úÖ **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–µ –Ω–∞—Ä—É—à–µ–Ω–∞**: –í—Å–µ —Å–ª–æ–∏ —Ä–∞–±–æ—Ç–∞—é—Ç  

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–í—Å–µ —É–ª—É—á—à–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –ù–æ–≤—ã–π tree view:
- –ë–æ–ª–µ–µ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π (16px –≤—ã—Å–æ—Ç–∞)
- –° –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º –ø—É—Ç–µ–º (30 —Å–∏–º–≤–æ–ª–æ–≤)
- –ë–µ–∑ expander'–æ–≤ (–∫–ª–∏–∫ –¥–ª—è —Ä–∞—Å–∫—Ä—ã—Ç–∏—è)
- –° hover —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏
- –° –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º —Å–∫—Ä–æ–ª–ª–æ–º
- –° —ç–ª–µ–≥–∞–Ω—Ç–Ω—ã–º–∏ —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞–º–∏

**–£–ª—å—Ç—Ä–∞–∫–æ–º–ø–∞–∫—Ç–Ω—ã–π Solarized Lite Tree View –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üé® 